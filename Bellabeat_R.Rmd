---
title: "Bellabeat How Can a Wellness Technology Company Play It Smart?"
author: "Ivan Alarcon"
date: '2022-03-17'
output:
  pdf_document: default
  html_document:
    df_print: paged
  word_document: default
---

## Statement of business task

Bellabeat is a high-tech company that manufactures health-focused smart products collecting data that informs and inspires women around the world, Bellabeat can benefit from analyze the data of the different serves and products so the company can create new servers or campaigns and fined new opportunities or strategies that can help the company to grow.


Starting points:
	1. Identified the trends that the industry have 
	2. Identified the most used functionalities  
  3. How to apply the new trends in our products that satisfied the costumers and the market demand
  
## Prepare the data

	• FitBit Fitness Tracker Data dataset made available through Mobius in Kaggle
	• The data is under CC0 Public Domain licenses (Which give us the permision to use this data set)
	• This dataset generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016
	• Thirty eligible Fitbit users consented to the submission of personal tracker data

ROCCC analysis 
	• Reliable - Bad, we do not know if the persons that did the survey are all womens 
	• Original - Bad, is a third party information
	• Comprehensive - Medium contain some data type errors   
	• Current - Bad, the data is out of date 
	• Cited - Good, the sources are well documented 
	
## Process the data

```{r}
install.packages("tidyverse")
install.packages("dplyr")
install.packages("ggplot2")
library(tidyverse)
library(dplyr)
library(ggplot2)
```

### Upload the dataset 

```{r}
daily_activity <- read.csv("C:/Users/augus/OneDrive/Documentos/Data_Analysis/8_Capstone_project/Fitabase_Data/dailyActivity_merged.csv")
daily_calories <- read.csv("C:/Users/augus/OneDrive/Documentos/Data_Analysis/8_Capstone_project/Fitabase_Data/dailyCalories_merged.csv")
daily_intensities <- read.csv("C:/Users/augus/OneDrive/Documentos/Data_Analysis/8_Capstone_project/Fitabase_Data/dailyIntensities_merged.csv")
daily_sleep <- read.csv("C:/Users/augus/OneDrive/Documentos/Data_Analysis/8_Capstone_project/Fitabase_Data/sleepDay_merged.csv")
daily_weight_log <- read.csv("C:/Users/augus/OneDrive/Documentos/Data_Analysis/8_Capstone_project/Fitabase_Data/weightLogInfo_merged.csv")
```
When we have all the dataset we can start to explore the data.

```{r}
head(daily_activity)
head(daily_calories)
head(daily_intensities)
head(daily_sleep)
head(daily_weight_log)

colnames(daily_activity)
colnames(daily_calories)
colnames(daily_intensities)
colnames(daily_sleep)
colnames(daily_weight_log)

glimpse(daily_activity)
glimpse(daily_calories)
glimpse(daily_intensities)
glimpse(daily_sleep)
glimpse(daily_weight_log)
```

We cand see that daily_activity and daily_intensities are very similar if not equals 
```{r}
glimpse(daily_activity)
glimpse(daily_intensities)

```
We can do the compassion of daily_activity, daily_calories and daily_intensities to see if the have the same information.

```{r}
identical(daily_activity$Id, daily_calories$Id)
identical(daily_activity$ActivityDate, daily_calories$ActivityDay)
identical(daily_activity$Calories, daily_calories$Calories)

identical(daily_activity$Id, daily_intensities$Id)
identical(daily_activity$ActivityDate, daily_intensities$ActivityDay)
identical(daily_activity$SedentaryMinutes, daily_intensities$SedentaryMinutes)
identical(daily_activity$LightlyActiveMinutes, daily_intensities$LightlyActiveMinutes)
identical(daily_activity$FairlyActiveMinutes, daily_intensities$FairlyActiveMinutes)
identical(daily_activity$VeryActiveMinutes, daily_intensities$VeryActiveMinutes)
identical(daily_activity$SedentaryActiveDistance, daily_intensities$SedentaryActiveDistance)
identical(daily_activity$LightActiveDistance, daily_intensities$LightActiveDistance)
identical(daily_activity$ModeratelyActiveDistance, daily_intensities$ModeratelyActiveDistance)
identical(daily_activity$VeryActiveDistance, daily_intensities$VeryActiveDistance)
```
As they are equals we can use only 3 datasets.

## Data analysis

```{r}
n_distinct(daily_activity$Id)
n_distinct(daily_sleep$Id)
```
We can see that one dataset have more Id's that the other, we need to have this in consideration if we need to combine the datasets.

###Steps Vs Sedentary minutes

```{r}
ggplot(data=daily_activity, aes(x=TotalSteps, y=SedentaryMinutes, color = Calories)) + geom_point()
```
As we can see those how have more steps burn more calories that those how have fewer even if have many sedentarie minutes.

###Relation between time in bed and time sleeping
```{r}
ggplot(data=daily_sleep, aes(x=TotalMinutesAsleep, y=TotalTimeInBed)) + geom_point()
```
We can see that the relationship between time sleeping and time in bed is lineal.

Combining daily_sleep and daily_activity

```{r}
combined_sleep_activity <- merge(daily_sleep, daily_activity, by="Id", all = TRUE)
n_distinct(combined_sleep_activity$Id)
```
Now we want to see if there is a relationship between a persons with less calories and those ho sleep well. 
we divide the time like this: less than 6h, 6h-8h and more than 8h.
```{r}
combined_sleep_activity_2 <- combined_sleep_activity %>%
  mutate(sleep_categories = case_when(TotalMinutesAsleep >360 & TotalMinutesAsleep <= 480 ~ "6h-8h",
                                      TotalMinutesAsleep > 480 ~ "> 8h",TRUE ~ "< 6h"))
```

Good sleep and losst of calories.
```{r}
ggplot(data= combined_sleep_activity_2) + geom_boxplot(mapping= aes(x=sleep_categories, y= Calories))
```
Combining daily_weight_log and daily_activity
```{r}
combined_weight_activity <- merge(daily_weight_log, daily_activity, by="Id", all = TRUE)
n_distinct(combined_weight_activity$Id)
```
###Lost of calories vs Very active minutes.
```{r}
ggplot(data=combined_weight_activity, aes(x=VeryActiveMinutes, y=Calories)) + geom_point() + stat_smooth(method=lm)
```
###BMI vs very active minutes
```{r}
ggplot(data=combined_weight_activity, aes(x=VeryActiveMinutes, y=BMI)) + geom_smooth()
```
Combine daily_sleep and daily_weight_log
```{r}
combined_sleep_weight <- merge(daily_sleep, daily_weight_log, by="Id", all = TRUE)
n_distinct(combined_sleep_weight$Id)
```
###Relationship BMI vs Minutes asleep.
```{r}
ggplot(data=combined_sleep_weight, aes(x=TotalMinutesAsleep, y=BMI)) + geom_smooth()
```
##Recommendations

Based on the analysis that we perform we find some recommendations for the businesses.

1. The relationship between the activity and the calorie burn is evident, we can include feature when you have been too much time inactive,     so in that way you could stresch your legs and walk for a while.
2. We can see a relation between sleep and the lost of calories, a feature where the user can see the quality of sleep acn help them to         improve their development. 
3. Is also evident that people that walk more burn more calories, so we could include a feature that base of the information give the client
   a minimal steps per day, considering the sleep the BMI and others indicators. 











